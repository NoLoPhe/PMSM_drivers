Link: https://arxiv.org/pdf/1910.00093.pdf
Link: https://www.arxiv-vanity.com/papers/1910.00093/

## An Open Torque-Controlled Modular Robot Architecture for Legged Locomotion Research

Felix Grimminger[1], Avadesh Meduri[1,3], Majid Khadiv[1], Julian Viereck[1,3], Manuel Wuthrich[1], Maximilien Naveau[1], Vincent Berenz[1], Steve Heim[2], Felix Widmaier[1], Thomas Flayols[4], Jonathan Fiene[2], Alexander Badri-Sprowitz[2] and Ludovic Righetti[1,3]

This work was supported by New York University, Max-Planck Institute for Intelligent Systems’ Grassroots projects, the European Union’s Horizon 2020 research and innovation program (grant agreement 780684 and European Research Council’s grant 637935), the National Science Foundation (CMMI-1825993), a Google Faculty Research Award, and an Independent Max Planck Researcher Grant. We thank Joel Bessekon Akpo for his help with the motor driver testing and Joshi Walzog for his help with the foot sensor circuit board layout.

[1] Max Planck Institute for Intelligent Systems, 72076 Tübingen, Germany. Email first.lastname@tuebingen.mpg.de

[2] Max Planck Institute for Intelligent Systems, 70569 Stuttgart, Germany. Email lastname@is.mpg.de

[3] Tandon School of Engineering, New York University, Brooklyn, USA. Email first.lastname@nyu.edu

[4] Laboratory for Analysis and Architecture of Systems, Centre National pour la Recherche Scientifique, Toulouse, France.  Email thomas.flayols@laas.fr

**ABSTRACT** — We present a new open-source torque-controlled legged robot system, with a low-cost and low-complexity actuator module at its core. It consists of a high-torque brushless DC motor and a low-gear-ratio transmission suitable for impedance and force control. We also present a novel foot contact sensor suitable for legged locomotion with hard impacts. A 2.2 kg quadruped robot with a large range of motion is assembled from eight identical actuator modules and four lower legs with foot contact sensors. Leveraging standard plastic 3D printing and off-the-shelf parts results in a lightweight and inexpensive robot, allowing for rapid distribution and duplication within the research community. We systematically characterize the achieved impedance at the foot in both static and dynamic scenarios, and measure a maximum dimensionless leg stiffness of 10.8 without active damping, which is comparable to the leg stiffness of a running human. Finally, to demonstrate the capabilities of the quadruped, we present a novel controller which combines feedforward contact forces computed from a kino-dynamic optimizer with impedance control of the center of mass and base orientation. The controller can regulate complex motions while being robust to environmental uncertainty.

**Index Terms** — Legged Robots, Compliance and Impedance Control, Actuation and Joint Mechanisms, Force Control.

## I.INTRODUCTION

It is often difficult to test advanced control and learning algorithms for legged robots without significant hardware development efforts or maintenance costs. Present-day hardware is often mechanically complex and costly, different robot systems are hard to compare to one another, and many systems are not commercially available. To support rapid and broad progress in academic research, we believe that hardware, firmware, and middle-ware must become inexpensive and relatively easy to reproduce and implement. Open-source blueprints of low-cost legged robot platforms like Oncilla [29], Stanford-doggo [17], and ours allow researchers to test and develop their ideas on a variety of robotic platforms with different morphologies. In addition, the performance and capabilities of robots produced from open-source blueprints can be directly compared across laboratories.

To the best of our knowledge Stanford-doggo is the only other open-source torque-controlled legged robot platform. Most of its parts are waterjet cut and relatively easy to produce. Other open-source (hobby) projects mostly use position controlled servo motors, limiting their usage for advanced control and learning algorithms. Complex machining is typical in quadruped robots exhibiting high performance force control such as HyQ [27], Anymal [12] or the MIT Cheetah [33]. Numerous legged robots such as the Oncilla and Cheetah-cub [30] incorporate mechanical compliance in parallel to the leg actuators to react intrinsically and immediately to external perturbations; however, complicated mechanisms are required to effectively alter joint stiffness [11].

For an open-source legged robot to be successful, it is necessary to minimize the number of parts requiring precision machining, thereby favoring off-the-shelf components over sophisticated custom actuation solutions. To achieve this goal, we leverage recent advances in inexpensive plastic 3D printing and high-performance brushless DC motors (BLDC) which are now widely available as off-the-shelf components. Furthermore, we can take advantage of the improvements driven by the mobile-device market, including affordable miniature sensors, low power and high-performance micro-controllers, and advanced battery technologies.

Lightweight, inexpensive yet robust robots are particularly relevant when testing advanced algorithms for dynamic locomotion [3, 22, 21]. Indeed, ease of operation and collaborative open-source development can accelerate testing cycles. Lightweight robots require no cranes or guiding structures and can be operated by a single researcher in smaller laboratory spaces. They can also significantly reduce the time and cost of repair and maintenance. These features become especially important when testing learning algorithms directly on real hardware [32, 31] where a safe platform is required to explore various control patterns.

Towards these goals, we present a novel, fully open-source, modular force-controlled leg architecture for dynamic legged robot research. This paper presents five main contributions: 1) a novel lightweight, low-complexity, torque-controlled actuator module suitable for impedance and force control based on off-the-shelf components and 3D printed parts, 2) an under 10g-lightweight foot contact sensor, capable of detecting contact reliably in all directions, suitable for robots withstanding hard impacts, 3) one complete leg constructed from two actuator modules and the foot sensor with controlled dimensionless impedance in the range of human running, 4) a quadruped robot, Solo, assembled from four legs with a total mass of only 2.2kg, and 5) a torque-controller for tracking full-body motions computed with a kino-dynamic motion optimizer [9, 22], demonstrating for the first time the execution of such motions on real robots under moderate environmental uncertainty. All designs are open-sourced, including mechanical drawings, electronic circuits, and control software [1].

## II. PLATFORM AND ROBOT OVERVIEW
This section details the actuator and contact sensor concepts for our modular leg design leading to a two-DOF leg and the full quadruped robot, Solo.

## A. ACTUATOR CONCEPT

**1. Brushless Actuator Module:** The actuator module is shown in Figure 5a. It consists of a brushless motor (T-Motor Antigravity 4004, 300KV), a 9:1 dual-stage timing belt transmission (Conti Synchroflex AT3 GEN III), a high-resolution optical encoder (Avago AEDM 5810) and a 5000 count-per-revolution code wheel mounted directly on the motor shaft. Everything is contained inside the lightweight, 3D printed shell, with no exposed wires. The low transmission ratio enables reasonable peak torques and high velocity at the joint. Importantly, the design ensures sufficient transparency to enable accurate torque control through motor current measurements alone. The module weighs 150g/ for a segment length of 160mm/. The assembly of the module is simple and requires very few components, as can be seen in Figure 5b. All components are either available off-the-shelf or can be 3D printed except for the motor shaft and the pulleys, which need to be machined from stock material. Desired joint torques are converted into desired motor current using the relationship τjoint = ki i N where ki = 0.025 N m/A and the gear reduction N = 9 which leads to τjoint = 0.225 i. The actuator can output τmax = 2.7 N m joint torque at 12 A.

**2. Electronics:** The experiments presented in the paper use off-the-shelf TI micro-controller evaluation boards equipped with two BLDC booster cards each (Fig. (b)b 1⃝3). They are capable of Field Oriented Control (FOC), and execute dual motor torque control at 10kHz/ (Fig. (a)a). To reduce the electronics footprint, we miniaturized the TI motor driver electronics, reducing the mass by a factor of six and volume by a factor of ten, as shown in Fig. (b)b. The resulting open-source MPI Micro-Driver electronics 1⃝4 consist of a Texas Instruments micro-controller (TMS320F28069M) and two brushless motor driver chips (DRV8305) on a single six-layer printed circuit board. The board includes a JTAG port for programming, CAN and SPI ports for control communications, and operates at motor voltages up to 40V/.

## B. FOOT CONTACT SENSOR

The foot contact sensor (Figure (c)c) is designed for rapid contact detection at a low force threshold and can withstand substantial impacts. Since the foot’s point-of-contact is often unpredictable in rough terrain, we designed the switch to activate with a sensing range of 270°/, ensuring proper contact detection for a wide range of robot configurations on complex terrains. We implemented a mechanism based on a light-emitting diode 1⃝5 and a light sensor 1⃝7. Both are separated by a spring-loaded, mechanical aperture 1⃝8 with a diameter of 1.5mm/. The sensitivity of the contact switch can be adjusted by changing the diameter, length, and/or the number of elastic silicone elements 1⃝6. External forces shift the aperture up to 2mm/ and generate an analog output signal between 0V/ and 3V/ that is read by an analog-to-digital converter on the micro-controller. The foot and lower leg structures are 3D printed from plastic (Fig. 5c). The foot contact switch weighs 10g/ and triggers reliably at 3N/ within 3ms/ of contact. The sensor is simple to assemble, has high sensitivity, low response time, and can withstand high impact loads. This makes it suitable to detect contacts during dynamic locomotion tasks.

## C. 2-DOF LEG AND QUADRUPED ROBOT SOLO

A single, 2-DOF leg (Fig. (a)a) is composed of two identical brushless actuator modules (hip 1⃝9, upper leg 2⃝0), and a lower leg 2⃝1. The foot 2⃝2 is mounted distally, at the end of the lower leg. All joints are multi-turn capable. Cable routing between hollow segments limits rotations to about three turns in each direction.

We assembled the quadruped robot Solo from four identical legs and a 3D printed body structure (Figure (c)c). The robot’s eight DOF are mounted to enable movements in the sagittal plane. The trunk houses the electronics for controlling 8 BLDC motors. Solo is currently tethered for data transmission and external power. The robot weighs 
2.2kg/ with a standing hip height of approximately 24cm/ (maximum hip height of 34cm/), 42cm/ body length, and 33cm/ width. The robot can fold down to 5cm/ in height (Fig. (c)c). It is also symmetric about all three axes.

## D. COMMUNICATION AND CONTROL SOFTWARE

While a CAN port for wired communication is available on both the TI and custom electronic boards, we additionally designed a lightweight master board gathering all communications between the robot motor drivers and the off-board control computer. This board is based on an ESP32, a dual core 240MHz/ Xtensa LX6 SoC with Wifi and Ethernet interface. Utilizing the upstream SPI port on the MPI Micro-Driver, dual motor state and control commands data are exchanged in a 35µs/ long single bidirectional SPI transfer. The master board is able to control up to 8 dual motor drivers and connect to other sensors such as IMU and battery monitor. The board can be connected with the control computer via wired (Ethernet) or wireless (WiFi) network interfaces. The connection is point to point using raw MAC layer packets and vendor specific action frames for real time communication. We have achieved consistent 200µs/ round trip time over 100 Mbit/s Ethernet, including driver latency. The WiFi connection carries a round trip time of approximately 1100µs/ on a free channel, with an average of about 4% packet loss. The protocol always transmits the full state robot commands and sensors data, to be robust against the loss of packets over WiFi. We disabled WiFi acknowledgment packages by using multi-cast to ensure deterministic transfer time, and to give priority to new and more up-to-date data. With both interfaces, we can close a control loop with a 12-DOF setup at 1kHz/. This open-source master board design is being used in the newest versions of the robot together with the MPI Micro-Driver electronics.

Both the 2-DOF leg and the quadruped are remotely controlled by a PC running Ubuntu patched with RT-Preempt for real-time capabilities. The sensing-control loop is performed at 1kHz/. We implemented drivers to interface the electronics with the control PC, with options for CAN, Ethernet or WiFi communication. A C++ software package provides an API to interface with several motor boards from the PC, with basic functionalities for position and force control. The API comes with Python bindings, enabling rapid prototyping. We use the C++ interface to implement 1kHz/ control loops. Several demo programs to rapidly test multi-actuator control are provided in the open-source repository [1].

## III. EXPERIMENTS AND RESULTS
In this section, we present experiments with the 2-DOF leg and the quadruped robot. We quantify the impedance regulation properties of the system, then we present a controller to track motions optimized with a kino-dynamic optimizer and demonstrate dynamic behaviors on the quadruped robot.

## A. IMPEDANCE CONTROL OF THE 2-DOF LEG
We characterize the effective impedance control capabilities of the leg by measuring the range of stiffness that can be regulated in quasi-static and hard impact conditions. We built a test stand (Fig. 14) with instrumentation to characterize the leg’s stiffness profile. A Cartesian impedance controller (Fig. (b)b) regulates the stiffness and damping of the foot with respect to the hip τ=JT(K(xd−x)−D˙x), where x∈R2 is the foot position with respect to the hip (leg length), xd∈R2 the spring setpoint, J the foot Jacobian, K and D the desired leg stiffness and damping matrices and τ∈R2 the motor torques. Torque control is only based on the internal motor current and motor position measurements without any force feedback. We validate impedance control quality using external reference sensors on the test stand.

**1. Quasi-static experiment:** We systematically characterized the range of stiffnesses that can be regulated at the foot for quasi-static motions. The robot stood in a rest position, and we slowly pushed on the leg to produce a deflection. We measured the ground reaction force and the leg length using external ground-truth sensors (force plate and string potentiometer). In this experiment, D=0, and we only use the desired stiffness. We found we could regulate the range of desired stiffness between 20N/m and 360N/m, for slow motion. For larger stiffness, without damping, the leg became unstable. Note that with small amounts of damping, the maximum stiffness can be increased further while avoiding unstable controller behavior (not shown here).

Results of the experiment are shown in Figure 15. We observe a close-to-linear relationship between vertical ground reaction force and vertical leg displacement for all desired stiffness values until actuator limits are reached (Fig. 15). The maximum leg force (black line) is limited due to a combination of actuator torque limits (maximum applied current), and leg kinematics. The linear relationship is independent of leg compression, suggesting that the linear impedance control law works for a broad range of displacements (up to 10cm/ for cases below torque-saturation limits).

We computed the effective leg stiffness using linear regression, where we excluded data points in the saturation region. For commanded stiffness lower than 150N/m, the measured leg stiffness matches the desired stiffness very well, while at higher desired stiffness, we observe lower measured stiffness. Without damping, the maximum measured stiffness was approximately 266N/m for a commanded stiffness of 360N/m. The identification presented in Figure 15 could also help choose a command to realize a reference stiffness.

The experiments demonstrate the ability of the robot to regulate leg stiffness with a simple control law and without the need for torque sensing. Experimental data shows the linearity of the force-displacement relationship. The difference in high stiffness regimes between actual and commanded stiffness is likely due to other dynamic effects including friction, the flexibility of the transmission and error in joint position measurements (i.e., the encoders measure motor displacement, not joint motion).

**2. Drop experiment:** The 2-DOF leg was dropped from a height of 0.24m/, with a desired leg stiffness of 150N/m and low damping of 0.5Ns/m. This experiment shows the leg’s impedance capabilities: producing simultaneous high torques and speeds. Fig. 18 (top) shows a typical time evolution of the contact force. The impact response of unsprung mass is visible as large, oscillating forces during the first 50ms/ of the impact. Frictional and deformation losses are visible by deviations from the ideal leg force: higher forces between touch-down and mid-stance, and lower forces between mid-stance and toe-off. Losses lead to a lower second peak amplitude.Leg forces settle at 6N/, corresponding to the weight of the 2-DOF leg, vertical slider, and electronics.

Fig. 7 (bottom) shows hysteresis in the work space, and indicates friction and losses in structural system deformation. The hysteresis can be explained by Coulomb friction shifting forces above and below the desired force, depending on the desired direction of motion. These hysteresis losses can be compensated with active control, however this was not the goal in this experiment. The low variance after impact shows good repeatability of the system. The linear relationship between leg compression and ground reaction forces remained.

**3. Jumping experiments:** We have already demonstrated the jumping capabilities of a preliminary version of the leg in [32]. Here we implement a simple periodic vertical motion using joint position controllers to generate jumping behavior. The leg can jump approximately 0.65m/, which is roughly twice its leg length and 2.7 times its resting leg length. The robot lands without damage. This demonstrates the ability of our system to generate dynamic motions.

**4. Contact sensor validation:** To validate the performance of the contact sensor, we performed an extensive set of drop tests with different desired leg length (ldes=$20cm$ and ldes=$30cm$, close to singularity) and impedance (75, 150 and 300N/m) on the leg test stand. We compared the performance of the contact sensor against estimated force at the foot using motor current measurements (F=(JTa)−1τ). A threshold value is required for each sensing modality, to identify contact. For the contact sensor, we set a threshold to 50 percent of the normalized value which resulted in a maximum delay of ∼$3ms$ compared to the ground truth force detection from the test force sensor (Fig. 19). Relying only on the joint torques estimated from motor currents, the threshold that ensures no false positives results in delays of ∼$31ms$, which is significant for dynamic tasks where the entire contact duration is of the order of a few 100ms. Setting a lower threshold would lead to recurring false positive errors when changing leg length or impedance. More advanced estimators using joint currents and a model of the full actuator drive system might improve detection at the cost of algorithmic complexity, while our contact sensor offers a simple, lightweight and robust solution.

## B. DYNAMIC BEHAVIOR OF THE QUADRUPED ROBOT
Here, we demonstrate the dexterity and capabilities of the quadruped robot. Moreover, we present the first real-robot experiments using motions computed with a centroidal dynamics-based kino-dynamic planner [9, 22].

**1. Kino-dynamic motion optimizer and controller:** The motions are planned using the full body kino-dynamic optimizer proposed in [9]. The algorithm alternatively optimizes 1) the centroidal dynamics of the robot (i.e. its center of mass, linear and angular momentum) together with contact force trajectories and 2) the kinematics of the full body. After several iterations, a consensus between both optimization problems is reached, leading to locally optimal trajectories consistent with the full robot dynamics. In our experiments, consensus was typically achieved after two iterations. The centroidal dynamics optimization problem is solved using the algorithm proposed in [22].

Similar to a passivity controller for multi-contact balancing [7], our controller optimally distributes contact forces on the feet to generate a sufficient wrench at the center of mass (CoM) to regulate reference CoM, angular momentum, and base orientation trajectories. In contrast to [7], we regulate the angular momentum of the robot and we add a low impedance controller for the motion of each foot, which is important to handle hard impact dynamics. The desired wrench WCoM at the CoM is

WCoM=WrefCoM+[Kc(xrefc−xc)+Dc(˙xrefc−˙xc)Kb(qrefb⊟qb)+Db(kref−k)] 

where xc, k and qb are the measured CoM position, angular momentum and base orientation (quaternion) respectively. The ref superscript denotes the reference trajectories from the motion optimizer, in particular, WrefCoM is the reference wrench at the CoM. The gain matrices Kc, Kb, Dc and Db are positive definite. In our experiments, we manually set these gains (diagonal matrices) but automatic designs such as in [8] could also be used. The operator ⊟ maps the rotation needed to correct for the orientation error between two quaternions into an angular velocity vector using the logarithm mapping between a Lie group and its Lie algebra. This formulation assumes that the CoM is located at the base frame origin (its location being therefore constant in this frame), which is a good approximation since most of the robot mass is located in its base. It also assumes a constant locked inertia tensor to ensure consistency when mixing orientation and angular momentum control. Force allocation at each foot in contact is computed at each control cycle by solving the following quadratic program

minFi,η,ζ1,ζ2  ∑i F2i+α(η2+ζ21+ζ22)s.t.	WCoM=∑i∈C (Firi×Fi)+ηFi,x<μFi,z+ζ1,  Fi,y<μFi,z+ζ2∀i∈C

where C is the set of indexes for the feet in contact with the ground (contact activation is decided using both the plan and the contact-sensor feedback), η, ζ1 and ζ2 are slack variables that ensure that the QP is always feasible, α is a large weight, ri is the vector from foot i to CoM, μ is the friction coefficient and z is the direction orthogonal to the ground. Once an optimal foot force allocation is found, the actuation torques are computed as

τi=JTi,a(Fi+K(lrefi−li)+D(˙lrefi−˙li))

where Ji,a is the actuated part of the foot Jacobian, l is the vector between the foot and the base origin, and the index i corresponds to each leg. The control law combines a desired force and a low-impedance leg-length controller.

**2. Solo motion capabilities:** Solo’s leg joints are multi-turn capable, up to three turns in each direction. Figure 20 illustrates how Solo can exploit these capabilities in various situations. Solo’s knee joints can be bent in both directions, and configure the robot into ‘X’, ‘O’-knee postures, or forward- and backward ‘C’ postures as required (Fig. 20a). For example, it bends its knee joint backward to reach the obstacle from the top in Fig. 20b. We designed a simple motion sequence (Fig.  20c), allowing Solo to stand up after a turn-over. We note that the three demonstrated behaviors cannot be kinematically achieved by quadruped animals.

**3. Tracking kino-dynamic plans:** We first tested the controller in different balancing scenarios that can be seen in the accompanying video. The results show that the robot is capable of balancing on moving platforms without any knowledge of the environment. We also computed a jumping motion, as well as both slow and fast walks. Results show that the robot can follow the desired plans. While the plans in these experiments are relatively long (e.g. 15s for the walking experiments), no re-planning is required for the robot to achieve the task. During the slow-walk motion, we added a seesaw obstacle that is not taken into account in the planner nor the controller. The robot is able to traverse the terrain without any problems. These results suggest that the controller is robust to uncertain environments and can adequately stabilize long motion plans. Moreover, this demonstrates that the plans generated by the kino-dynamic optimizer can be transferred to a real robot despite the difference between the dynamic model of the robot and the real system. We also executed a vertical jump, reaching a base height of 65cm (Fig. 1), and landing without damage.

## IV. DISCUSSION

**1. Design choices:** Designing a low-weight quadruped robot while maintaining effective impedance and force control capabilities required us to trade-off several design features. We designed our legged robot architecture for proprioceptive force-control using BLDC motors as they lead to high performance and low weight actuators [28], with sufficiently low gear ratio (9:1) to achieve proprioceptive actuation [4, 23]. Such actuators do not require dedicated force sensors as joint torque is directly estimated from motor phase current measurement [33]. Low-geared actuators have the advantage of low friction and minimal stage losses, while fewer and smaller parts in the gear train reduce the losses from reflected inertia under oscillating loads [24]. Choosing to utilize low-cost hobbyist BLDC motors introduces torque ripples at very low speed. It has not been a problem yet during normal locomotion operation but might necessitate active compensation for slow precision tasks.

Legged robots experience high peak torques from impacts, imposing high dynamic loads on the gear train components. The small contact surface of single-point contact spur-gears are not well suited to such loads, and are relatively rare in jumping robots unless in combination with mechanical compliance mounted in the leg-length [20, 26] or leg-angle direction [5]. While planetary gears share loading among multiple teeth- [33], cable- [19, 14], belt- [23], and chain-driven [13, 16] systems typically exhibit high robustness against external peak torque and can transmit power over a larger distance with low reflected inertia. We decided for a low weight, dual-stage timing belt transmission with 9:1 reduction capable of sustaining high impacts.

Proprioceptive actuation does not require additional sensing for locomotion on flat and level ground; however, on unknown terrain it becomes difficult to reliably estimate rapid, low-force contacts. We chose to combine proprioceptive control with robust sensing using a distally mounted touch sensor. Only a few sensing principles remain functional at the harsh impact conditions experienced during high-speed leg touchdowns. Peak forces can exceed two times bodyweight when exerted onto a single foot [33]. Lightweight force-sensing based on piezoresistive or optical sensing of deflecting elastic material has been demonstrated previously [23, 18]. Other designs measure the deflection of rubber-like materials through embedded magnets [2] or measure impacts with inertial measurement units [15]. These sensing concepts are relatively complex. Here we propose a simple and inexpensive design based on a spring-loaded aperture, similar to the principle implemented by Hsieh [10].

**2. Impedance control capabilities:** We measured torque at the motor through current measurement. The resulting output torque at the end effector differed due to gear losses, belt and leg structural flexibility, and inertial losses. Nevertheless, our experimental results show that very good impedance control is possible. The systematic characterization of leg stiffness suggests that the actuator module can serve as a basis to construct high performance force-controlled robots. As a comparison, reported human leg stiffness values while running [6] ranges from k=$7kN/m$ to 16.3kN/m. For a 75kg, 1m leg length human, this translates into a dimensionless leg stiffness, ~k=k⋅l0/(mg) [25], between ~k=10 and 22. In our 2-DOF leg experiments we measured 266N/m stiffness, corresponding to a dimensionless leg stiffness of 10.8, putting the capabilities of the robot within a range comparable to human leg stiffness. Comparison with other quadruped robots is difficult as impedance or force control performance is seldom characterised. From the reported characterization of the 10kg, hydraulically driven HyQ leg [27, Fig 12], we estimate a dimensionless HyQ leg stiffness of ~k=$5250N/m$⋅$0.3m$/($10kg$⋅$9.81m/s2$)=16, slightly higher than the dimensionless stiffness of Solo.

**3. Open Source and Outreach:** Mechanical and electrical hardware blueprints and software required for this project are open-source under the BSD-3-clause license [1] and the robots can be easily reproduced and improved by other laboratories. At the moment, three other laboratories are in the process of producing their own copy of the quadruped and a fully wireless 12-DOF quadruped with adduction/abduction degree of freedom at the hip joint is currently under construction. The actuator module is inexpensive, and the full 8-DOF quadruped was built for approximately 4000€ of material cost. The low weight and simplicity of the robot allow for easy transportation and safe operation, significantly simplifying experimental environments. We have demonstrated legs assembled from the same actuator module but other configurations are also possible. For example, multiple legs modules can be used as manipulators when reconfigured into a large hand-like structure. The platform can also be used as an educational tool. For example, the leg was used to teach robotics to high school interns at NYU.

## V. CONCLUSION

We presented an open-source low-cost actuator module and a foot contact sensor used to build torque-controlled legged robots. We developed the system’s hardware, electronics, and firmware/software to support legged robot locomotion research with a rugged and durable, low-weight robot that can be handled safely by a single researcher. Experiments show the robots’ capabilities in generating very dynamic motions with excellent impedance regulation characteristics. We introduced a simple torque-controller capable of regulating motions generated with full-body kino-dynamic optimizer. We anticipate that this open-source project will benefit the robotics community by lowering the barrier to entry and lead to further extensions of the robots.

## REFERENCES

[1] . Note: https://open-dynamic-robot-initiative.github.io/ Cited by: §I, §II-D, §IV-3.

[2] A. Ananthanarayanan, S. Foong, and S. Kim (2012) A compact two dof magneto-elastomeric force sensor for a running quadruped. In IEEE Int. Conf. on Robotics and Automation, pp. 1398–1403. Cited by: §IV-1.

[3] J. Carpentier and N. Mansard (2018) Multicontact locomotion of legged robots. IEEE Trans. on Robotics 34 (6), pp. 1441–1460. Cited by: §I.

[4] Y. Ding and H. Park (2017) Design and Experimental Implementation of a Quasi-Direct-Drive Leg for Optimized Jumping. In IEEE/RSJ Int. Conf. on Intelligent Robots and Systems, pp. 300–305. Cited by: §IV-1.

[5] P. Eckert, A. E. Schmerbauch, T. Horvat, K. Söhnel, M. S. Fischer, H. Witte, and A. J. Ijspeert (2019) Towards rich motion skills with the lightweight quadruped robot Serval. Adaptive Behavior, pp. 41–55. Cited by: §IV-1.

[6] C. T. Farley and O. Gonzalez (1996) Leg stiffness and stride frequency in human running. J. of Biomechanics 29 (2), pp. 181–186. External Links: ISSN 0021-9290 Cited by: §IV-2.

[7] B. Henze, M. A. Roa, and C. Ott (2016) Passivity-based whole-body balancing for torque-controlled humanoid robots in multi-contact scenarios. The International Journal of Robotics Research 35 (12), pp. 1522–1543. Cited by: §III-B1.

[8] A. Herzog, N. Rotella, S. Mason, F. Grimminger, S. Schaal, and L. Righetti (2016) Momentum control with hierarchical inverse dynamics on a torque-controlled humanoid. Autonomous Robots 40 (3), pp. 473–491. Cited by: §III-B1.

[9] A. Herzog, S. Schaal, and L. Righetti (2016) Structured contact force optimization for kino-dynamic motion generation. In IEEE/RSJ Int. Conf. on Intelligent Robots and Systems, pp. 2703–2710. Cited by: §I, §III-B1, §III-B.

[10] S. T. Hsieh (2006-05) Three-axis optical force plate for studies in small animal locomotor mechanics. Review of Scientific Instruments 77 (5), pp. 054303. External Links: ISSN 0034-6748, 1089-7623 Cited by: §IV-1.

[11] J. W. Hurst and A. A. Rizzi (2005) Physically variable compliance in running. In Climbing and Walking Robots, Cited by: §I.

[12] M. Hutter, C. Gehring, D. Jud, A. Lauber, C. D. Bellicoso, V. Tsounis, J. Hwangbo, K. Bodie, P. Fankhauser, M. Bloesch, et al. (2016) Anymal-a highly mobile and dynamic quadrupedal robot. In IEEE/RSJ Int. Conf. on Intelligent Robots and Systems, pp. 38–44. Cited by: §I.

[13] M. Hutter, C. D. Remy, M. A. Hoepflinger, and R. Siegwart (2011) Scarleth: design and control of a planar running robot. In IEEE/RSJ Int. Conf. on Intelligent Robots and Systems, pp. 562–567. Cited by: §IV-1.

[14] J. Hwangbo, V. Tsounis, H. Kolvenbach, and M. Hutter (2018) Cable-driven actuation for highly dynamic robotic systems. In IEEE/RSJ Int. Conf. on Intelligent Robots and Systems, pp. 8543–8550. Cited by: §IV-1.

[15] R. Käslin, H. Kolvenbach, L. Paez, K. Lika, and M. Hutter (2018) Towards a passive adaptive planar foot with ground orientation and contact force sensing for legged robots. In IEEE/RSJ Int. Conf. on Intelligent Robots and Systems, pp. 2707–2714. Cited by: §IV-1.

[16] B. Katz, J. Di Carlo, and S. Kim (2019) Mini cheetah: a platform for pushing the limits of dynamic quadruped control. In IEEE-RAS Int. Conf. on Robotics and Automation, pp. 6295–6301. Cited by: §IV-1.

[17] N. Kau, A. Schultz, N. Ferrante, and P. Slade (2019) Stanford doggo: an open-source, quasi-direct-drive quadruped. arXiv preprint arXiv:1905.04254. Cited by: §I.

[18] J. Kim, K. Kim, and S. Kim (2013) Note: A compact three-axis optical force/torque sensor using photo-interrupters. Review of Scientific Instruments 84 (12), pp. 126109. External Links: ISSN 0034-6748, 1089-7623 Cited by: §IV-1.

[19] S. Kitano, S. Hirose, A. Horigome, and G. Endo (2016) TITAN-XIII: sprawling-type quadruped robot with ability of fast and energy-efficient walking. ROBOMECH Journal 3 (1), pp. 1–16. External Links: ISSN 2197-4225 Cited by: §IV-1.

[20] F. Meyer, A. Spröwitz, and L. Berthouze (2006) Passive compliance for a RC servo-controlled bouncing robot. Advanced Robotics 20 (8), pp. 953–961. Cited by: §IV-1.

[21] I. Mordatch, E. Todorov, and Z. Popović (2012) Discovery of complex behaviors through contact-invariant optimization. ACM Trans. on Graphics (TOG) 31 (4), pp. 43. Cited by: §I.

[22] B. Ponton, A. Herzog, A. Del Prete, S. Schaal, and L. Righetti (2018) On time optimization of centroidal momentum dynamics. In IEEE Int. Conf. on Robotics and Automation, pp. 1–7. Cited by: §I, §I, §III-B1, §III-B.

[23] J. Ramos and S. Kim (2018) Facilitating Model-Based Control through Software-Hardware Co-Design. In IEEE Int. Conf. on Robotics and Automation, Cited by: §IV-1, §IV-1, §IV-1.

[24] F. Roos, H. Johansson, and J. Wikander (2006) Optimal selection of motor and gearhead in mechatronic applications. Mechatronics 16 (1), pp. 63–72. External Links: ISSN 0957-4158 Cited by: §IV-1.

[25] J. Rummel and A. Seyfarth (2008-08) Stable Running with Segmented Legs. Int. J. of Robotics Research 27 (8), pp. 919–934. Cited by: §IV-2.

[26] R. Sato, I. Miyamoto, K. Sato, A. Ming, and M. Shimojo (2015) Development of robot legs inspired by bi-articular muscle-tendon complex of cats. In IEEE/RSJ Int. Conf. on Intelligent Robots and Systems, pp. 1552–1557. Cited by: §IV-1.

[27] C. Semini, V. Barasuol, T. Boaventura, M. Frigerio, M. Focchi, D. G. Caldwell, and J. Buchli (2015) Towards versatile legged robots through active impedance control. Int. J. of Robotics Research 34 (7), pp. 1003–1020. Cited by: §I, §IV-2.

[28] S. Seok, A. Wang, D. Otten, and S. Kim (2012) Actuator design for high force proprioceptive control in fast legged locomotion. In IEEE/RSJ Int. Conf. on Intelligent Robots and Systems, pp. 1970–1975. Cited by: §IV-1.

[29] A. Spröwitz, A. Tuleu, M. Ajallooeian, M. Vespignani, R. Möckel, P. Eckert, M. DH́aene, J. Degrave, A. Nordmann, B. Schrauwen, J. Steil, and A. J. Ijspeert (2018) Oncilla Robot: A Versatile Open-Source Quadruped Research Robot With Compliant Pantograph Legs. Frontiers in Robotics and AI 5. External Links: ISSN 2296-9144, Document Cited by: §I.

[30] A. Spröwitz, A. Tuleu, M. Vespignani, M. Ajallooeian, E. Badri, and A. Ijspeert (2013) Towards Dynamic Trot Gait Locomotion: Design, Control and Experiments with Cheetah-cub, a Compliant Quadruped Robot. Int. J. of Robotics Research 32 (8), pp. 932–950. External Links: ISSN 0278-3649 Cited by: §I.

[31] J. Tan, T. Zhang, E. Coumans, A. Iscen, Y. Bai, D. Hafner, S. Bohez, and V. Vanhoucke (2018) Sim-to-real: learning agile locomotion for quadruped robots. In Robotics: Science and Systems, Cited by: §I.

[32] J. Viereck, J. Kozolinsky, A. Herzog, and L. Righetti (2018) Learning a structured neural network policy for a hopping task. IEEE Robotics and Automation Letters 3 (4), pp. 4092–4099. Cited by: §I, §III-A3.

[33] P. M. Wensing, A. Wang, S. Seok, D. Otten, J. Lang, and S. Kim (2017) Proprioceptive Actuator Design in the MIT Cheetah: Impact Mitigation and High-Bandwidth Physical Interaction for Dynamic Legged Robots. IEEE Trans. on Robotics 33 (99), pp. 1–14. External Links: ISSN 1552-3098, Document Cited by: §I, §IV-1, §IV-1, §IV-1.
